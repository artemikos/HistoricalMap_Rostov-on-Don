# HistoricalMap_Rostov-on-Don
**Необходимые программы:**  WampServer, PostgreSQL, PHP 

Установить программу для создания локального сервера, я использовал WampServer 

Установить PostgreSQL. 

Поместите файлы проекта в папку `www` в директории WampServer (по умолчанию `C:\wamp64\www`) При необходимости раскомментировать строчки в файле php.ini:  
extension=pdo_pgsql 
extension=pgsqlРисунок 

Создать таблицу monuments1 в базе данных PostgreSQL, можно выполнить SQL команду ниже 
CREATE TABLE monuments1 ( kod SERIAL PRIMARY KEY, name TEXT NOT NULL, type TEXT, information TEXT, author TEXT, address TEXT, lat1_d NUMERIC(9,6), lon1_d NUMERIC(9,6), t_inf TEXT, foto TEXT); 

 

Скопировать в базу данных все данные из csv-файла, можно выполнить SQL команду ниже 
COPY monuments1(name, type, information, author, address, lat1_d, lon1_d, t_inf, foto) FROM 'data.csv' DELIMITER ',' CSV HEADER; 

 

В самом начале файла index.html прописать логин и пароль к PostgresSQL. 

$db = new PDO('pgsql:host=localhost;dbname=”*Название вашей базы данных*', '*Ваше имя пользователя PostgresSQL*', ' *Ваш пароль* '); 

 

Убедиться, что локальный сервер запущен и файлы лежат в его директории (WWW). Перейти на http://localhost/ и дальше кликнуть на имя проекта( в моём случае WebMap ) Рисунок 

Должна открытся страничка сайта с содержимым 

 

 

**Функционал сайта:** 

**Popup-окна** Кликните по маркеру и откроется подробная информация: 
Название памятника, Тип объекта, Автор (если известен),Описание, Фотография (если добавлена), Дополнительная информация 

**Добавление нового памятника** Нажмите кнопку "Добавить объект" в боковой панели и Заполните форму: 
Название Тип Информация Автор Адрес Координаты URL фото 
Нажмите "Добавить" и объект сразу появится на карте 

**Чтение, Редактирование и удаление объектов **
Нажмите "Просмотр объектов", можно использовать поисковую строку для фильтрации по имени или типу памятника В таблице у каждого обьекта есть кнопки: 
Редактировать обьект: кликните "Редактировать" → внесите изменения → "Обновить" 
Удалить обьект: кликните "Удалить" (объект сразу исчезнет с карты) 

**Поиск в радиусе **
Нажмите "Поиск в радиусе" 
Кликните на карте в точке, которая будет центром поиска 
Введите радиус в метрах (например: 1000) 
Отобразится круг в котором происходит выборка и откроется таблица с объектами: Объекты в указанном радиусе, указано и отсортировано по расстоянию до каждого объекта 

Построение маршрута 
Нажмите "Построение маршрута" 
Кликайте по маркерам в порядке посещения: 
В боковой панели отображается: Порядковый номер точки, Название памятника, Координаты 
После выбора минимум 2 точек нажмите "Закончить маршрут" 
На карте появится оптимальный пешеходный маршрут 
Чтобы начать новый маршрут - снова нажмите "Построение маршрута" 

Инфографика 
Нажмите "Инфографика" и изучите диаграммы 
